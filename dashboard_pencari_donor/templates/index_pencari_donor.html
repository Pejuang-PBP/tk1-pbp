{% extends "dashboard/skeleton.html" %} {% load static %} {% block title %}
KonvaSearch - Dashboard {% endblock %} {% block head %}
<link href="{% static 'main.css' %}" rel="stylesheet" />
<link href="{% static 'dashboard/index.css' %}" rel="stylesheet" />
<style>
  body {
    padding: 0rem 1rem;
  }
  .table > :not(:first-child) {
    border-top: none !important;
  }
</style>
{% endblock %} {% block left_content %}
<div class="row">
  <div class="p-5 mb-3 bg-light-blue rounded-10">
    <div class="container-fluid py-3">
      <h1 class="display-6 fw-bold">Halo, {{ user.username }}</h1>
      <p class="fs-5">
        Anda berstatus sebagai
        <span class="text-oxford-blue fw-bold">Pencari Donor</span>
      </p>
      <div id="badge-container" class="d-flex flex-wrap">
        <!-- <span class="badge rounded-pill bg-danger px-3 py-2"
          >Belum Terverifikasi</span
        > -->
        <span
          id="request-aktif"
          class="badge rounded-pill bg-success px-3 py-2"
          style="display: none"
          >Request Aktif</span
        >
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12" style="padding: 0 !important">
    <div class="p-5 mb-4 bg-light-blue rounded-10">
      <h4 class="fw-bold text-center">Informasi Request</h4>
      <div id="request-information" class="mb-4 text-center">
        Anda belum memiliki request yang aktif. Silahkan membuat request baru
        dengan mengklik tombol dibawah.
      </div>
      <div
        id="request-button-container"
        class="w-100 d-none justify-content-center"
      >
        <button
          class="btn btn-danger me-3"
          type="button"
          data-bs-toggle="modal"
          data-bs-target="#deleteModal"
        >
          Batalkan
        </button>
        <button class="btn btn-primary position-relative">
          Calon Donor
          <span
            class="
              position-absolute
              top-0
              start-100
              translate-middle
              badge
              rounded-pill
              bg-danger
            "
          >
            0
            <span class="visually-hidden">unread messages</span>
          </span>
        </button>
      </div>
      <div
        id="create-button-container"
        class="w-100 d-none justify-content-center"
      >
        <a class="btn btn-success position-relative" href="/form-pencari-donor">
          Buat Request
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %} {% block right_content %}
<div class="p-5 mb-4 bg-light-blue rounded-10">
  <h5 class="fw-bold text-center mb-4">Notifications</h5>
  <div id="notifications"></div>
</div>
{% endblock %} {% block scripts %}
<div
  class="modal fade"
  id="deleteModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Apakah anda yakin ingin membatalkan request ini?
        </h5>
      </div>
      <div class="modal-body">Aksi ini tidak dapat diulangi.</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Tidak
        </button>
        <button
          type="button"
          class="btn btn-danger"
          onClick="document.dispatchEvent(new CustomEvent('delete:request'))"
          data-bs-dismiss="modal"
        >
          Iya
        </button>
      </div>
    </div>
  </div>
</div>

<!-- AJAX call to fetch and render notifications -->
<script src="{% static 'dashboard/scripts/pencari_donor/notifications.js' %}"></script>
<script src="{% static 'dashboard/scripts/pencari_donor/request.js' %}"></script>
{% endblock %}
